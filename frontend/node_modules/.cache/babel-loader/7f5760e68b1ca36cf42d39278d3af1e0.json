{"ast":null,"code":"var _jsxFileName = \"D:\\\\ecommerce\\\\frontend\\\\src\\\\screens\\\\ProductEditScreen.js\";\nimport React, { Component } from \"react\";\nimport { Form, Button, Row, Col, Container } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport FormContainer from \"../component/FormContainer\";\nimport { getUserDetails } from \"../actions/userActions\";\nimport { connect } from \"react-redux\";\nimport Loader from \"../component/Loader\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ProductEditScreen extends Component {\n  constructor() {\n    super();\n\n    this.submitHandler = e => {\n      this.setState({\n        loading: true\n      }); // e.preventDefault();\n\n      const {\n        name,\n        price,\n        image,\n        brand,\n        category,\n        countInStock,\n        numReviews,\n        description\n      } = this.state;\n      const data = {\n        name,\n        price,\n        image,\n        brand,\n        category,\n        countInStock,\n        numReviews,\n        description\n      };\n      const token = this.props.getLoginInfoData.userInfo.token;\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      axios.put(`/api/products/${this.props.match.params.id}`, data, config).then(response => {\n        this.props.history.push(`/admin/productslist`);\n        this.setState({\n          loading: false\n        });\n      }).catch(error => {\n        console.log(error);\n        this.setState({\n          loading: false\n        });\n      });\n    };\n\n    this.onFileChange = event => {\n      this.setState({\n        uploading: true\n      });\n      var formdata = new FormData();\n      formdata.append(\"image\", event.target.files[0]);\n      formdata.append(\"filetype\", \"IMG\");\n      axios({\n        method: \"post\",\n        url: `/api/upload`,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        data: formdata\n      }).then(res => {\n        this.setState({\n          image: res.data,\n          uploading: false\n        });\n      }).catch(err => {\n        this.setState({\n          uploading: false\n        });\n        console.log(\"Error : \" + err);\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      price: \"\",\n      image: \"\",\n      brand: \"\",\n      category: \"\",\n      countInStock: \"\",\n      numReviews: 0,\n      imageUrl: \"https://placeimg.com/320/320/animals\",\n      description: \"\",\n      loading: true,\n      uploading: false\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    this.setState({\n      loading: true\n    });\n    const token = this.props.getLoginInfoData.userInfo.token;\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    axios.get(`/api/products/${this.props.match.params.id}`, config).then(response => {\n      console.log(response.data);\n      this.setState({\n        name: response.data.name,\n        price: response.data.price,\n        image: response.data.image,\n        brand: response.data.brand,\n        category: response.data.category,\n        countInStock: response.data.countInStock,\n        numReviews: response.data.numReviews,\n        description: response.data.description,\n        loading: false\n      });\n    }).catch(error => {\n      console.log(error);\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  render() {\n    const {\n      name,\n      price,\n      image,\n      brand,\n      category,\n      countInStock,\n      numReviews,\n      description\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin/productslist\",\n        className: \"btn btn-light mt-5 ml-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), \" Go back\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Edit Product Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), this.state.loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"formBasicEmail\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter product name\",\n              value: name,\n              onChange: e => this.setState({\n                name: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"price\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter Product Price\",\n              value: price,\n              onChange: e => this.setState({\n                price: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"category\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter category\",\n              value: category,\n              onChange: e => this.setState({\n                category: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"category\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter category\",\n              value: brand,\n              onChange: e => this.setState({\n                brand: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"countInStock\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Count In Stock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter stock limit\",\n              value: countInStock,\n              onChange: e => this.setState({\n                countInStock: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"description\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter description\",\n              value: description,\n              onChange: e => this.setState({\n                description: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"image\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \" Image \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter image url\",\n              value: image,\n              onChange: e => this.setState({\n                image: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.File, {\n              id: \"img-upload\",\n              label: \"Choose File\",\n              custom: true,\n              onChange: this.onFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this), this.state.uploading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), false ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            onClick: this.submitHandler,\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    getLoginInfoData: state.userLogin,\n    getUserDetailsData: state.getUserDetails\n  };\n};\n\nexport default connect(mapStateToProps)(ProductEditScreen);","map":{"version":3,"sources":["D:/ecommerce/frontend/src/screens/ProductEditScreen.js"],"names":["React","Component","Form","Button","Row","Col","Container","Link","FormContainer","getUserDetails","connect","Loader","axios","ProductEditScreen","constructor","submitHandler","e","setState","loading","name","price","image","brand","category","countInStock","numReviews","description","state","data","token","props","getLoginInfoData","userInfo","config","headers","Authorization","put","match","params","id","then","response","history","push","catch","error","console","log","onFileChange","event","uploading","formdata","FormData","append","target","files","method","url","res","err","imageUrl","componentDidMount","window","scrollTo","get","render","value","mapStateToProps","userLogin","getUserDetailsData"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Form, Button, Row, Col, Container } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FormContainer from \"../component/FormContainer\";\r\nimport { getUserDetails } from \"../actions/userActions\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"../component/Loader\";\r\nimport axios from \"axios\";\r\n\r\nclass ProductEditScreen extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      name: \"\",\r\n      price: \"\",\r\n      image: \"\",\r\n      brand: \"\",\r\n      category: \"\",\r\n      countInStock: \"\",\r\n      numReviews: 0,\r\n      imageUrl: \"https://placeimg.com/320/320/animals\",\r\n\r\n      description: \"\",\r\n      loading: true,\r\n      uploading: false,\r\n    };\r\n  }\r\n\r\n  submitHandler = (e) => {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    // e.preventDefault();\r\n    const {\r\n      name,\r\n      price,\r\n      image,\r\n      brand,\r\n      category,\r\n      countInStock,\r\n      numReviews,\r\n      description,\r\n    } = this.state;\r\n    const data = {\r\n      name,\r\n      price,\r\n      image,\r\n      brand,\r\n      category,\r\n      countInStock,\r\n      numReviews,\r\n      description,\r\n    };\r\n    const token = this.props.getLoginInfoData.userInfo.token;\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    axios\r\n      .put(`/api/products/${this.props.match.params.id}`, data, config)\r\n      .then((response) => {\r\n        this.props.history.push(`/admin/productslist`);\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    const token = this.props.getLoginInfoData.userInfo.token;\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    axios\r\n      .get(`/api/products/${this.props.match.params.id}`, config)\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        this.setState({\r\n          name: response.data.name,\r\n          price: response.data.price,\r\n          image: response.data.image,\r\n          brand: response.data.brand,\r\n          category: response.data.category,\r\n          countInStock: response.data.countInStock,\r\n          numReviews: response.data.numReviews,\r\n          description: response.data.description,\r\n          loading: false,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        this.setState({\r\n          loading: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  onFileChange = (event) => {\r\n    this.setState({\r\n      uploading: true,\r\n    });\r\n    var formdata = new FormData();\r\n    formdata.append(\"image\", event.target.files[0]);\r\n    formdata.append(\"filetype\", \"IMG\");\r\n    axios({\r\n      method: \"post\",\r\n      url: `/api/upload`,\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      data: formdata,\r\n    })\r\n      .then((res) => {\r\n        this.setState({\r\n          image: res.data,\r\n          uploading: false,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          uploading: false,\r\n        });\r\n        console.log(\"Error : \" + err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      price,\r\n      image,\r\n      brand,\r\n      category,\r\n      countInStock,\r\n      numReviews,\r\n      description,\r\n    } = this.state;\r\n    return (\r\n      <>\r\n        <Link to='/admin/productslist' className='btn btn-light mt-5 ml-5'>\r\n          <i className='fa fa-arrow-left'></i> Go back\r\n        </Link>\r\n\r\n        <FormContainer>\r\n          <h2>Edit Product Details</h2>\r\n          {this.state.loading ? (\r\n            <Loader />\r\n          ) : (\r\n            <Form>\r\n              {/* <img\r\n                width='320'\r\n                src={`//uploads/image - 1615302608565.png`}\r\n              /> */}\r\n\r\n              <Form.Group controlId='formBasicEmail'>\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control\r\n                  type='text'\r\n                  placeholder='Enter product name'\r\n                  value={name}\r\n                  onChange={(e) => this.setState({ name: e.target.value })}\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId='price'>\r\n                <Form.Label>Price</Form.Label>\r\n                <Form.Control\r\n                  type='text'\r\n                  placeholder='Enter Product Price'\r\n                  value={price}\r\n                  onChange={(e) => this.setState({ price: e.target.value })}\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId='category'>\r\n                <Form.Label>Category</Form.Label>\r\n                <Form.Control\r\n                  type='text'\r\n                  placeholder='Enter category'\r\n                  value={category}\r\n                  onChange={(e) => this.setState({ category: e.target.value })}\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId='category'>\r\n                <Form.Label>Brand</Form.Label>\r\n                <Form.Control\r\n                  type='text'\r\n                  placeholder='Enter category'\r\n                  value={brand}\r\n                  onChange={(e) => this.setState({ brand: e.target.value })}\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId='countInStock'>\r\n                <Form.Label>Count In Stock</Form.Label>\r\n                <Form.Control\r\n                  type='text'\r\n                  placeholder='Enter stock limit'\r\n                  value={countInStock}\r\n                  onChange={(e) =>\r\n                    this.setState({ countInStock: e.target.value })\r\n                  }\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId='description'>\r\n                <Form.Label>Description</Form.Label>\r\n                <Form.Control\r\n                  type='text'\r\n                  placeholder='Enter description'\r\n                  value={description}\r\n                  onChange={(e) =>\r\n                    this.setState({ description: e.target.value })\r\n                  }\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId='image'>\r\n                <Form.Label> Image </Form.Label>\r\n                <Form.Control\r\n                  type='text'\r\n                  placeholder='Enter image url'\r\n                  value={image}\r\n                  onChange={(e) => this.setState({ image: e.target.value })}\r\n                />\r\n                <Form.File\r\n                  id='img-upload'\r\n                  label='Choose File'\r\n                  custom\r\n                  onChange={this.onFileChange}\r\n                />\r\n\r\n                {this.state.uploading && <Loader />}\r\n              </Form.Group>\r\n\r\n              {/* <Form.Group controlId='isAdmin'>\r\n                <Form.Check\r\n                  type='Checkbox'\r\n                  label='Is Admin'\r\n                  checked={isAdmin}\r\n                  onChange={(e) => this.setState({ isAdmin: e.target.checked })}\r\n                />\r\n              </Form.Group> */}\r\n\r\n              {false ? (\r\n                <Loader />\r\n              ) : (\r\n                <Button\r\n                  variant='primary'\r\n                  type='submit'\r\n                  onClick={this.submitHandler}>\r\n                  Update\r\n                </Button>\r\n              )}\r\n            </Form>\r\n          )}\r\n        </FormContainer>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    getLoginInfoData: state.userLogin,\r\n    getUserDetailsData: state.getUserDetails,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProductEditScreen);\r\n"]},"metadata":{},"sourceType":"module"}