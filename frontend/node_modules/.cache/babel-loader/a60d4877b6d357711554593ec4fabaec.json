{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\21650\\\\Desktop\\\\ecommerce\\\\frontend\\\\src\\\\component\\\\ProductDetails.js\";\nimport React, { Component } from \"react\";\nimport { Container, Row, Col, Image, Card, ListGroup, Button, Form } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { listProductDetails, createProductReview } from \"../actions/productActions\";\nimport Loader from \"./Loader\";\nimport Message from \"./Message\";\nimport Rating from \"./Rating\";\nimport { Link } from \"react-router-dom\";\nimport Meta from \"./Meta\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ProductDetails extends Component {\n  constructor() {\n    super();\n\n    this.addToCartHandler = () => {\n      this.props.history.push(`/cart/${this.props.match.params.id}?qty=${this.state.qty}`);\n    };\n\n    this.submitHandler = e => {\n      if (!this.state.comment) {\n        return;\n      }\n\n      this.props.dispatch(createProductReview(this.props.match.params.id, {\n        rating: this.state.rating,\n        comment: this.state.comment\n      }));\n      setTimeout(() => {\n        window.location.reload();\n      }, 10);\n    };\n\n    this.state = {\n      Product: [],\n      qty: 1,\n      rating: 1,\n      comment: \"\",\n      comment_error: \"\"\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    this.props.dispatch(listProductDetails(this.props.match.params.id));\n  }\n\n  render() {\n    const {\n      loading,\n      error,\n      product\n    } = this.props.getProductDetailsData;\n    const {\n      userInfo\n    } = this.props.getLoginInfoData;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-5 px-5\",\n      children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Meta, {\n          title: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            sm: 12,\n            md: 6,\n            lg: 4,\n            xl: 4,\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              style: {\n                width: \"100%\"\n              },\n              src: product.image,\n              rounded: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 12,\n            md: 6,\n            lg: 4,\n            xl: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              style: {\n                border: \"none\"\n              },\n              children: /*#__PURE__*/_jsxDEV(ListGroup, {\n                variant: \"flush\",\n                children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  as: \"h3\",\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Rating, {\n                    value: product.rating,\n                    text: `${product.numReviews} reviews`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: [\"Price:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontWeight: 700\n                    },\n                    children: [\"$\", product.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: product.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 12,\n            md: 6,\n            lg: 4,\n            xl: 4,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              children: /*#__PURE__*/_jsxDEV(ListGroup, {\n                variant: \"flush\",\n                children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      children: \"Price: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: [\"$\", product.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      children: \"Status:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: product.countInStock > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: \"green\"\n                        },\n                        children: \"In Stock\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 29\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: \"red\"\n                        },\n                        children: \"Out of stock\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      children: \"Qty:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: product.countInStock > 0 ? /*#__PURE__*/_jsxDEV(Form.Control, {\n                        as: \"select\",\n                        value: this.state.qty,\n                        onChange: e => this.setState({\n                          qty: e.target.value\n                        }),\n                        children: [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: x + 1,\n                          children: x + 1\n                        }, x + 1, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 131,\n                          columnNumber: 35\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 29\n                      }, this) : 0\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: this.addToCartHandler,\n                    disabled: product.countInStock === 0,\n                    style: {\n                      width: \"100%\"\n                    },\n                    variant: \"dark\",\n                    children: \"Add To Cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"py-5\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Write a customer review\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 21\n                }, this), userInfo ? /*#__PURE__*/_jsxDEV(Form, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    controllId: \"rating\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Rating\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      as: \"select\",\n                      value: this.state.rating,\n                      onChange: e => this.setState({\n                        rating: e.target.value\n                      }),\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"Select...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 172,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"1\",\n                        children: \"1 - Poor\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 173,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"2\",\n                        children: \"2 - Fair\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"3\",\n                        children: \"3 - Good\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"4\",\n                        children: \"4 - Very Good\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 176,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"5\",\n                        children: \"5 - Excellent\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 177,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    controllId: \"comment\",\n                    children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                      children: \"Comment\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      as: \"textarea\",\n                      row: \"3\",\n                      value: this.state.comment,\n                      onChange: e => this.setState({\n                        comment: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                      className: \"text-muted\",\n                      style: {\n                        color: \"red\"\n                      },\n                      children: \"One user is only add one review !!!\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      disabled: !this.state.comment,\n                      type: \"button\",\n                      className: \"my-2\",\n                      variant: \"primary\",\n                      onClick: this.submitHandler,\n                      children: \"Submit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Please\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/login\",\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"sign in\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 25\n                  }, this), \" \", \"to write a review\", \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Reviews\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this), product.reviews.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No reviews\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 52\n              }, this), product.reviews.map(review => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: review.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Rating, {\n                  value: review.rating,\n                  text: ``\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: review.createdAt.substring(0, 10)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: review.comment\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 23\n                }, this)]\n              }, review._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    getProductDetailsData: state.productDetails,\n    getLoginInfoData: state.userLogin\n  };\n};\n\nexport default connect(mapStateToProps)(ProductDetails);","map":{"version":3,"sources":["C:/Users/21650/Desktop/ecommerce/frontend/src/component/ProductDetails.js"],"names":["React","Component","Container","Row","Col","Image","Card","ListGroup","Button","Form","connect","axios","listProductDetails","createProductReview","Loader","Message","Rating","Link","Meta","ProductDetails","constructor","addToCartHandler","props","history","push","match","params","id","state","qty","submitHandler","e","comment","dispatch","rating","setTimeout","window","location","reload","Product","comment_error","componentDidMount","scrollTo","render","loading","error","product","getProductDetailsData","userInfo","getLoginInfoData","name","width","image","border","numReviews","fontWeight","price","description","countInStock","color","setState","target","value","Array","keys","map","x","reviews","length","review","createdAt","substring","_id","mapStateToProps","productDetails","userLogin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Image,\r\n  Card,\r\n  ListGroup,\r\n  Button,\r\n  Form,\r\n} from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport {\r\n  listProductDetails,\r\n  createProductReview,\r\n} from \"../actions/productActions\";\r\nimport Loader from \"./Loader\";\r\nimport Message from \"./Message\";\r\nimport Rating from \"./Rating\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Meta from \"./Meta\";\r\n\r\nclass ProductDetails extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      Product: [],\r\n      qty: 1,\r\n      rating: 1,\r\n      comment: \"\",\r\n      comment_error: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n    this.props.dispatch(listProductDetails(this.props.match.params.id));\r\n  }\r\n\r\n  addToCartHandler = () => {\r\n    this.props.history.push(\r\n      `/cart/${this.props.match.params.id}?qty=${this.state.qty}`\r\n    );\r\n  };\r\n\r\n  submitHandler = (e) => {\r\n    if (!this.state.comment) {\r\n      return;\r\n    }\r\n    this.props.dispatch(\r\n      createProductReview(this.props.match.params.id, {\r\n        rating: this.state.rating,\r\n        comment: this.state.comment,\r\n      })\r\n    );\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 10);\r\n  };\r\n  render() {\r\n    const { loading, error, product } = this.props.getProductDetailsData;\r\n    const { userInfo } = this.props.getLoginInfoData;\r\n\r\n    return (\r\n      <div className='py-5 px-5'>\r\n        {loading ? (\r\n          <Loader />\r\n        ) : error ? (\r\n          <Message />\r\n        ) : (\r\n          <>\r\n            <Meta title={product.name} />\r\n            <Row>\r\n              <Col sm={12} md={6} lg={4} xl={4}>\r\n                <Image style={{ width: \"100%\" }} src={product.image} rounded />\r\n              </Col>\r\n              <Col sm={12} md={6} lg={4} xl={4}>\r\n                <Card style={{ border: \"none\" }}>\r\n                  <ListGroup variant='flush'>\r\n                    <ListGroup.Item as='h3'>{product.name}</ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      {/* {product.rating} rating from {product.numReviews} reviews */}\r\n                      <Rating\r\n                        value={product.rating}\r\n                        text={`${product.numReviews} reviews`}\r\n                      />\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      Price:{\" \"}\r\n                      <span style={{ fontWeight: 700 }}>${product.price}</span>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>{product.description}</ListGroup.Item>\r\n                  </ListGroup>\r\n                </Card>\r\n              </Col>\r\n              <Col sm={12} md={6} lg={4} xl={4}>\r\n                <Card>\r\n                  <ListGroup variant='flush'>\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Price: </Col>\r\n                        <Col>${product.price}</Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Status:</Col>\r\n                        <Col>\r\n                          {product.countInStock > 0 ? (\r\n                            <span style={{ color: \"green\" }}>In Stock</span>\r\n                          ) : (\r\n                            <span style={{ color: \"red\" }}>Out of stock</span>\r\n                          )}\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Qty:</Col>\r\n                        <Col>\r\n                          {product.countInStock > 0 ? (\r\n                            <Form.Control\r\n                              as='select'\r\n                              value={this.state.qty}\r\n                              onChange={(e) =>\r\n                                this.setState({ qty: e.target.value })\r\n                              }>\r\n                              {[...Array(product.countInStock).keys()].map(\r\n                                (x) => (\r\n                                  <option key={x + 1} value={x + 1}>\r\n                                    {x + 1}\r\n                                  </option>\r\n                                )\r\n                              )}\r\n                            </Form.Control>\r\n                          ) : (\r\n                            0\r\n                          )}\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n\r\n                    <ListGroup.Item>\r\n                      <Button\r\n                        onClick={this.addToCartHandler}\r\n                        disabled={product.countInStock === 0}\r\n                        style={{ width: \"100%\" }}\r\n                        variant='dark'>\r\n                        Add To Cart\r\n                      </Button>\r\n                    </ListGroup.Item>\r\n                  </ListGroup>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n            <Row className='py-5'>\r\n              <Col md={6}>\r\n                <ListGroup variant='flush'>\r\n                  <ListGroup.Item>\r\n                    <h4>Write a customer review</h4>\r\n                    {userInfo ? (\r\n                      <Form>\r\n                        <Form.Group controllId='rating'>\r\n                          <Form.Label>Rating</Form.Label>\r\n                          <Form.Control\r\n                            as='select'\r\n                            value={this.state.rating}\r\n                            onChange={(e) =>\r\n                              this.setState({ rating: e.target.value })\r\n                            }>\r\n                            <option value=''>Select...</option>\r\n                            <option value='1'>1 - Poor</option>\r\n                            <option value='2'>2 - Fair</option>\r\n                            <option value='3'>3 - Good</option>\r\n                            <option value='4'>4 - Very Good</option>\r\n                            <option value='5'>5 - Excellent</option>\r\n                          </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controllId='comment'>\r\n                          <Form.Label>Comment</Form.Label>\r\n                          <Form.Control\r\n                            as='textarea'\r\n                            row='3'\r\n                            value={this.state.comment}\r\n                            onChange={(e) =>\r\n                              this.setState({ comment: e.target.value })\r\n                            }></Form.Control>\r\n                          <Form.Text\r\n                            className='text-muted'\r\n                            style={{ color: \"red\" }}>\r\n                            One user is only add one review !!!\r\n                          </Form.Text>\r\n                          <Button\r\n                            disabled={!this.state.comment}\r\n                            type='button'\r\n                            className='my-2'\r\n                            variant='primary'\r\n                            onClick={this.submitHandler}>\r\n                            Submit\r\n                          </Button>\r\n                        </Form.Group>\r\n                      </Form>\r\n                    ) : (\r\n                      <p>\r\n                        Please{\" \"}\r\n                        <Link to='/login' style={{ color: \"red\" }}>\r\n                          sign in\r\n                        </Link>{\" \"}\r\n                        to write a review{\" \"}\r\n                      </p>\r\n                    )}\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Col>\r\n\r\n              <Col md={6}>\r\n                <ListGroup variant='flush'>\r\n                  <h4>Reviews</h4>\r\n                  {product.reviews.length === 0 && <p>No reviews</p>}\r\n\r\n                  {product.reviews.map((review) => (\r\n                    <ListGroup.Item key={review._id}>\r\n                      <h6>{review.name}</h6>\r\n                      <Rating value={review.rating} text={``} />\r\n                      <p>{review.createdAt.substring(0, 10)}</p>\r\n                      <p>{review.comment}</p>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              </Col>\r\n            </Row>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    getProductDetailsData: state.productDetails,\r\n    getLoginInfoData: state.userLogin,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ProductDetails);\r\n"]},"metadata":{},"sourceType":"module"}